<div class="layout-topbar">
    <div class="layout-topbar-logo-container">
        <button class="layout-menu-button layout-topbar-action" (click)="layoutService.onMenuToggle()" *ngIf="currentUrl !== '/'">
            <i class="pi pi-bars"></i>
        </button>
        <a class="layout-topbar-logo" routerLink="/">
            <span>Igreja</span>
        </a>
    </div>

    <div class="layout-topbar-actions">
        <div class="layout-config-menu">
            <button type="button" class="layout-topbar-action" (click)="toggleDarkMode()">
                <i [ngClass]="{ 'pi ': true, 'pi-moon': layoutService.isDarkTheme(), 'pi-sun': !layoutService.isDarkTheme() }"></i>
            </button>
        </div>

        <!-- Botão de Perfil -->
        <button type="button" class="layout-topbar-action" (click)="openProfileMenu($event)">
            <i class="pi pi-user"></i>
            <span>Profile</span>
        </button>

        <!-- Overlay Panel para opções do usuário -->
        <p-overlayPanel #profileMenu>
            <div class="p-2">
                <button class="p-button p-button-text w-full text-left" (click)="openProfile()"><i class="pi pi-user mr-2"></i> Ver Perfil</button>
                <button class="p-button p-button-text w-full text-left text-red-500" (click)="logout()"><i class="pi pi-sign-out mr-2"></i> Logout</button>
            </div>
        </p-overlayPanel>
    </div>
</div>


<app-user-details-modal-component 
    [visible]="isProfileDialogVisible" 
    [user]="user" 
    [isAdmin]="false">
</app-user-details-modal-component>


    